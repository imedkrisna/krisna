plot(cars)
install.packages("AER")
help(ivreg)
help("ivreg")
exit
getwd()
data <- data.frame(
id=c(1:2000)
)
# generate data observation
data$lnz <- rnorm(2000, mean = 0.5, sd=1)
data$Z <- exp(data$lnz)
data$U <- rnorm(2000,mean = 0, sd=0.1)
data$B1 <- rbinom (2000, 1, 0.5)  # to explain about probability 1
data$B2 <- 1-data$B1  # to explain about probability 1
# generate firm cashflow
data$X <- data$B1*data$Z - 3*data$B1 + data$U
# generate firm borrowing
data$E <- rnorm(2000,mean = 0, sd=0.1)
data$R <- 0.5*data$U + 0.5*data$E
data$X1 <- ifelse (data$X>0, 1, 0)
data$X2 <- ifelse (data$X<0, 1, 0)
data$Y <- (1*data$X1) - (1*data$X2) + data$R
# Regression
mod <- lm(Y~X, data = data)
summary(mod)
summary(data$X)
summary(data$Y)
summary(data$R)
View(data)
install.packages("car")
install.packages("AER")
library (AER)
modelIV <- ivreg(formula=data$Y~data$X | data$Z)
summary(modelIV)
summary(mod)
dataX<-dataX[!(dataX$B2=="1"),]
dataX<-data
dataX<-dataX[!(dataX$B2=="1"),]
dataX
View(dataX)
modelIV2 <- ivreg(formula=dataX$Y~dataX$X | dataX$Z)
summary(modelIV2)
summary(modelIV)
summary(mod)
mean(dataX$Z)
mean(data$B1)
mean(data$B2)
View(data)
mean(X)
mean(data$X)
mean(data$Y)
getwd()
data <- data.frame(
id=c(1:2000)
)
# generate data observation
data$lnz <- rnorm(2000, mean = 0.5, sd=1)
data$Z <- exp(data$lnz)
data$U <- rnorm(2000,mean = 0, sd=0.1)
data$B1 <- rbinom (2000, 1, 0.5)  # to explain about probability 1
data$B2 <- 1-data$B1  # to explain about probability 1
# generate firm cashflow
data$X <- data$B1*data$Z - 3*data$B1 + data$U
# generate firm borrowing
data$E <- rnorm(2000,mean = 0, sd=0.1)
data$R <- 0.5*data$U + 0.5*data$E
data$X1 <- ifelse (data$X>0, 1, 0)
data$X2 <- ifelse (data$X<0, 1, 0)
data$Y <- (data$X*data$X1) - (data$X*data$X2) + data$R
# Regression
mod <- lm(Y~X, data = data)
summary(mod)
summary(data$X)
summary(data$Y)
summary(data$R)
View(data)
#install.packages("car")
#install.packages("AER")
#library (AER)
modelIV <- ivreg(formula=data$Y~data$X | data$Z)
summary(modelIV)
summary(mod)
dataX<-data
modelIV2 <- ivreg(formula=dataX$Y~dataX$X | dataX$Z)
summary(mod)
summary(dataIV)
summary(modelIV)
summary(modelIV2)
dataX<-dataX[!(dataX$B2=="1"),]
modelIV2 <- ivreg(formula=dataX$Y~dataX$X | dataX$Z)
summary(modelIV2)
getwd()
data <- data.frame(
id=c(1:2000)
)
# generate data observation
data$lnz <- rnorm(2000, mean = 0.5, sd=1)
data$Z <- exp(data$lnz)
data$U <- rnorm(2000,mean = 0, sd=0.1)
data$B1 <- rbinom (2000, 1, 0.5)  # to explain about probability 1
data$B2 <- 1-data$B1  # to explain about probability 1
# generate firm cashflow
data$X <- data$B1*data$Z - 3*data$B2 + data$U
# generate firm borrowing
data$E <- rnorm(2000,mean = 0, sd=0.1)
data$R <- 0.5*data$U + 0.5*data$E
data$X1 <- ifelse (data$X>0, 1, 0)
data$X2 <- ifelse (data$X<0, 1, 0)
data$Y <- (data$X*data$X1) - (data$X*data$X2) + data$R
# Regression
mod <- lm(Y~X, data = data)
summary(mod)
summary(data$X)
summary(data$Y)
summary(data$R)
View(data)
#install.packages("car")
#install.packages("AER")
#library (AER)
modelIV <- ivreg(formula=data$Y~data$X | data$Z)
summary(modelIV)
summary(mod)
dataX<-data
dataX<-dataX[!(dataX$B2=="1"),]
modelIV2 <- ivreg(formula=dataX$Y~dataX$X | dataX$Z)
summary(mod)
summary(modelIV)
summary(modelIV2)
library(installr)
install.packages("installr")
library("installr")
updater()
updater()
tinitex::install_tinytex()
tinytex::install_tinytex()
tinytex:::is_tinytex()
summary(modelIV2)
modelIV2
?ivreg
?AER
library(AER)
getwd()
data <- data.frame(
id=c(1:2000)
)
# generate data observation
data$lnz <- rnorm(2000, mean = 0.5, sd=1)
data$Z <- exp(data$lnz)
data$U <- rnorm(2000,mean = 0, sd=0.1)
data$B1 <- rbinom (2000, 1, 0.5)  # to explain about probability 1
data$B2 <- 1-data$B1  # to explain about probability 1
# generate firm cashflow
data$X <- data$B1*data$Z - 3*data$B2 + data$U
# generate firm borrowing
data$E <- rnorm(2000,mean = 0, sd=0.1)
data$R <- 0.5*data$U + 0.5*data$E
data$X1 <- ifelse (data$X>0, 1, 0)
data$X2 <- ifelse (data$X<0, 1, 0)
data$Y <- (data$X*data$X1) - (data$X*data$X2) + data$R
# Regression
mod <- lm(Y~X, data = data)
summary(mod)
summary(data$X)
summary(data$Y)
summary(data$R)
View(data)
#install.packages("car")
#install.packages("AER")
#library (AER)
modelIV <- ivreg(formula=data$Y~data$X | data$Z)
summary(modelIV)
summary(mod)
dataX<-data
dataX<-dataX[!(dataX$B2=="1"),]
modelIV2 <- ivreg(formula=dataX$Y~dataX$X | dataX$Z)?i
getwd()
data <- data.frame(
id=c(1:2000)
)
# generate data observation
data$lnz <- rnorm(2000, mean = 0.5, sd=1)
data$Z <- exp(data$lnz)
data$U <- rnorm(2000,mean = 0, sd=0.1)
data$B1 <- rbinom (2000, 1, 0.5)  # to explain about probability 1
data$B2 <- 1-data$B1  # to explain about probability 1
# generate firm cashflow
data$X <- data$B1*data$Z - 3*data$B2 + data$U
# generate firm borrowing
data$E <- rnorm(2000,mean = 0, sd=0.1)
data$R <- 0.5*data$U + 0.5*data$E
data$X1 <- ifelse (data$X>0, 1, 0)
data$X2 <- ifelse (data$X<0, 1, 0)
data$Y <- (data$X*data$X1) - (data$X*data$X2) + data$R
# Regression
mod <- lm(Y~X, data = data)
summary(mod)
summary(data$X)
summary(data$Y)
summary(data$R)
View(data)
#install.packages("car")
#install.packages("AER")
#library (AER)
modelIV <- ivreg(formula=data$Y~data$X | data$Z)
summary(modelIV)
summary(mod)
dataX<-data
dataX<-dataX[!(dataX$B2=="1"),]
modelIV2 <- ivreg(formula=dataX$Y~dataX$X | dataX$Z)
modelIV2
modelIV
summary(mod)
summary(modelIV)
summary(dataIV2)
summary(modelIV2)
library(car)
setwd('c:/github/krisna')
library(ggplot2)
install.packages('tidyverse')
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
ggplot(data, aes(Z.Y)) + geom_point()
data <- data.frame(
id=c(1:2000)
)
# generate data observation
data$lnz <- rnorm(2000, mean = 0.5, sd=1)
data$Z <- exp(data$lnz)
data$U <- rnorm(2000,mean = 0, sd=0.1)
data$B1 <- rbinom (2000, 1, 0.5)  # to explain about probability 1
data$B2 <- 1-data$B1  # to explain about probability 1
# generate firm cashflow
data$X <- data$B1*data$Z - 3*data$B2 + data$U
# generate firm borrowing
data$E <- rnorm(2000,mean = 0, sd=0.1)
data$R <- 0.5*data$U + 0.5*data$E
data$X1 <- ifelse (data$X>0, 1, 0)
data$X2 <- ifelse (data$X<0, 1, 0)
data$Y <- (data$X*data$X1) - (data$X*data$X2) + data$R
head(data)
library(ggplot2)
ggplot(data, aes(Z.Y)) + geom_point()
library(ggplot2)
ggplot(data, aes(Z.Y))
library(ggplot2)
ggplot(data, aes(Z,Y))
+ geom_point()
library(ggplot2)
ggplot(data, aes(Z,Y)) +
geom_point()
library(ggplot2)
ggplot(data, aes(Z,X)) +
geom_point()
library(ggplot2)
ggplot(data, aes(Z,X, colour=B1)) +
geom_point()
library(ggplot2)
ggplot(data, aes(Z,X, colour=B1)) +
geom_point() +
geom_line(method="lm")
library(ggplot2)
ggplot(data, aes(Z,X, colour=B1)) +
geom_point() +
geom_smooth(method="lm")
library(ggplot2)
a<-ggplot(data, aes(Z,X, colour=B1)) +
geom_point()
library(ggplot2)
a<-ggplot(data, aes(Z,X, colour=B1)) +
geom_point()
a
a +
geom_smooth(method = "lm")
b<-ggplot(data,aes(X,Y,colour=X1)) +
geom_point()
b
b +
geom_smooth(method = "lm")
dataXX<-data
dataXX<-dataX[!(dataX$B1=="1"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
library (AER)
modelIV <- ivreg(formula=data$Y~data$X | data$Z)
summary(modelIV)
dataX<-data
dataX<-dataX[!(dataX$B2=="1"),]
modelIV2 <- ivreg(formula=dataX$Y~dataX$X | dataX$Z)
summary(modelIV2)
dataXX<-data
dataXX<-dataX[!(dataX$B1=="1"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
dataXX<-data
dataXX<-dataXX[!(dataX$B1=="1"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
dataXX<-data
dataXX<-dataXX[!(dataX$B2=="0"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
dataXX<-data
dataXX<-dataXX[!(dataX$B2=="0"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
summary(modelIV3)
dataXX<-data
dataXX<-dataXX[!(dataX$B2=="0"),]
dataXX<-data
View(dataXX)
dataXX<-data
dataXX<-dataXX[!(dataXX$B2=="0"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
summary(modelIV3)
dataXX<-data
dataXX<-dataXX[!(dataXX$B2=="0"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
summary(modelIV3)
modd<-lm(dataxx,X~Z)
dataXX<-data
dataXX<-dataXX[!(dataXX$B2=="0"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
summary(modelIV3)
modd<-lm(X~Z,data=dataXX)
summary(modd)
dataXX<-data
dataXX<-dataXX[!(dataXX$B2=="0"),]
modelIV3 <- ivreg(formula=dataXX$Y~dataXX$X | dataXX$Z)
summary(modelIV3)
modd<-lm(Y~X,data=dataXX)
summary(modd)
dataXX<-data
dataXX<-dataXX[!(dataXX$B2=="1"),]
modelIV3 <- lm(formula=dataXX$Y~dataXX$X)
summary(modelIV3)
dataXX<-data
dataXX<-dataXX[!(dataXX$B2=="0"),]
modelIV3 <- lm(formula=dataXX$Y~dataXX$X)
summary(modelIV3)
